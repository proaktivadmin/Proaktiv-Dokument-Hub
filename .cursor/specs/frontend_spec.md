# FRONTEND SPECIFICATION - V2 Document Hub

**Generated by:** Frontend Architect Agent  
**Date:** 2026-01-14  
**Phase:** 2.1 (Document-First MVP)

---

## T1: TYPESCRIPT INTERFACES

### File: `frontend/src/types/v2/merge-fields.ts`

```typescript
/**
 * Merge Field Types for Flettekode System
 */

/**
 * Data types supported by merge fields
 */
export type MergeFieldDataType = 'string' | 'number' | 'date' | 'boolean' | 'array';

/**
 * Merge field category names
 */
export type MergeFieldCategory = 
  | 'Selger' 
  | 'KjÃ¸per' 
  | 'Eiendom' 
  | 'Megler' 
  | 'Ã˜konomi' 
  | 'Oppdrag'
  | 'Kontor';

/**
 * Individual merge field from the Flettekode registry
 */
export interface MergeField {
  id: string;
  path: string;                          // e.g., "selger.navn", "eiendom.adresse"
  category: MergeFieldCategory | string;
  label: string;                         // Display name, e.g., "Selger Navn"
  description: string | null;
  example_value: string | null;          // e.g., "Ola Nordmann"
  data_type: MergeFieldDataType;
  is_iterable: boolean;                  // Can be used with vitec-foreach
  parent_model: string | null;           // e.g., "Model.selgere"
  usage_count: number;
  created_at: string;
  updated_at: string;
}

/**
 * Create merge field payload
 */
export interface MergeFieldCreate {
  path: string;
  category: string;
  label: string;
  description?: string;
  example_value?: string;
  data_type?: MergeFieldDataType;
  is_iterable?: boolean;
  parent_model?: string;
}

/**
 * Update merge field payload (all optional)
 */
export interface MergeFieldUpdate {
  path?: string;
  category?: string;
  label?: string;
  description?: string;
  example_value?: string;
  data_type?: MergeFieldDataType;
  is_iterable?: boolean;
  parent_model?: string;
}

/**
 * Paginated merge field list response
 */
export interface MergeFieldListResponse {
  merge_fields: MergeField[];
  total: number;
  page: number;
  per_page: number;
  total_pages: number;
}

/**
 * Result of merge field auto-discovery scan
 */
export interface MergeFieldDiscoveryResult {
  discovered_count: number;
  new_fields: string[];
  existing_fields: string[];
  templates_scanned: number;
}

/**
 * Category with count for sidebar
 */
export interface MergeFieldCategoryCount {
  name: string;
  count: number;
}
```

### File: `frontend/src/types/v2/code-patterns.ts`

```typescript
/**
 * Code Pattern Types for Pattern Library
 */

/**
 * Reusable code pattern (HTML/Vitec snippets)
 */
export interface CodePattern {
  id: string;
  name: string;
  category: string;                     // e.g., "Tabeller", "Betingelser", "Lister"
  description: string | null;
  html_code: string;                    // The actual HTML/Vitec code
  variables_used: string[];             // Array of merge field paths used
  preview_thumbnail_url: string | null;
  usage_count: number;
  created_by: string;
  updated_by: string;
  created_at: string;
  updated_at: string;
}

/**
 * Create code pattern payload
 */
export interface CodePatternCreate {
  name: string;
  category: string;
  html_code: string;
  description?: string;
  variables_used?: string[];
}

/**
 * Update code pattern payload (all optional)
 */
export interface CodePatternUpdate {
  name?: string;
  category?: string;
  html_code?: string;
  description?: string;
  variables_used?: string[];
}

/**
 * Paginated code pattern list response
 */
export interface CodePatternListResponse {
  patterns: CodePattern[];
  total: number;
  page: number;
  per_page: number;
  total_pages: number;
}
```

### File: `frontend/src/types/v2/layout-partials.ts`

```typescript
/**
 * Layout Partial Types for Headers/Footers
 */

/**
 * Partial types
 */
export type LayoutPartialType = 'header' | 'footer';

/**
 * Context where partial can be used
 */
export type LayoutPartialContext = 'pdf' | 'email' | 'all';

/**
 * Header or footer partial template
 */
export interface LayoutPartial {
  id: string;
  name: string;
  type: LayoutPartialType;
  context: LayoutPartialContext;
  html_content: string;
  is_default: boolean;
  created_by: string;
  updated_by: string;
  created_at: string;
  updated_at: string;
}

/**
 * Create layout partial payload
 */
export interface LayoutPartialCreate {
  name: string;
  type: LayoutPartialType;
  html_content: string;
  context?: LayoutPartialContext;
  is_default?: boolean;
}

/**
 * Update layout partial payload (all optional)
 */
export interface LayoutPartialUpdate {
  name?: string;
  type?: LayoutPartialType;
  context?: LayoutPartialContext;
  html_content?: string;
  is_default?: boolean;
}

/**
 * Layout partial list response
 */
export interface LayoutPartialListResponse {
  partials: LayoutPartial[];
  total: number;
}

/**
 * Result of set-default operation
 */
export interface LayoutPartialSetDefaultResponse {
  id: string;
  is_default: boolean;
  previous_default_id: string | null;
}
```

### File: `frontend/src/types/v2/template-metadata.ts`

```typescript
/**
 * Extended Template Metadata Types (Vitec Parity)
 */

/**
 * Template channel types
 */
export type TemplateChannel = 'pdf' | 'email' | 'sms' | 'pdf_email';

/**
 * Template type (Vitec classification)
 */
export type TemplateType = 'Objekt/Kontakt' | 'System';

/**
 * Receiver type
 */
export type ReceiverType = 'Egne/kundetilpasset' | 'Systemstandard';

/**
 * Receiver roles
 */
export type Receiver = 'Selger' | 'KjÃ¸per' | 'Megler' | 'Bank' | 'ForretningsfÃ¸rer';

/**
 * Transaction phases
 */
export type TransactionPhase = 
  | 'Oppdrag' 
  | 'MarkedsfÃ¸ring' 
  | 'Visning' 
  | 'Budrunde' 
  | 'Kontrakt' 
  | 'OppgjÃ¸r';

/**
 * Ownership types
 */
export type OwnershipType = 'Bolig' | 'Aksje' | 'Tomt' | 'NÃ¦ring' | 'Hytte';

/**
 * Extended template with Vitec metadata fields
 */
export interface TemplateWithMetadata {
  id: string;
  title: string;
  description: string | null;
  file_name: string;
  file_type: string;
  file_size_bytes: number;
  status: 'draft' | 'published' | 'archived';
  version: number;
  preview_url: string | null;
  created_at: string | null;
  updated_at: string | null;
  
  // V2 Vitec Metadata Fields
  preview_thumbnail_url: string | null;
  channel: TemplateChannel;
  template_type: TemplateType | null;
  receiver_type: ReceiverType | null;
  receiver: Receiver | null;
  extra_receivers: string[];
  phases: TransactionPhase[];
  assignment_types: string[];
  ownership_types: OwnershipType[];
  departments: string[];
  email_subject: string | null;
  header_template_id: string | null;
  footer_template_id: string | null;
  margin_top: number;
  margin_bottom: number;
  margin_left: number;
  margin_right: number;
}

/**
 * Template metadata update payload
 */
export interface TemplateMetadataUpdate {
  channel?: TemplateChannel;
  template_type?: TemplateType;
  receiver_type?: ReceiverType;
  receiver?: Receiver;
  extra_receivers?: string[];
  phases?: TransactionPhase[];
  assignment_types?: string[];
  ownership_types?: OwnershipType[];
  departments?: string[];
  email_subject?: string;
  header_template_id?: string | null;
  footer_template_id?: string | null;
  margin_top?: number;
  margin_bottom?: number;
  margin_left?: number;
  margin_right?: number;
  preview_thumbnail_url?: string;
}

/**
 * Template analysis result
 */
export interface TemplateAnalysisResult {
  template_id: string;
  merge_fields_found: string[];
  conditions_found: string[];
  loops_found: string[];
  unknown_fields: string[];
  analysis_timestamp: string;
}
```

### File: `frontend/src/types/v2/shelf-library.ts`

```typescript
/**
 * Shelf Library Types for Template Grouping
 */

import type { TemplateWithMetadata, TemplateChannel, TransactionPhase, Receiver, OwnershipType } from './template-metadata';

/**
 * Grouping options for shelf layout
 */
export type ShelfGroupBy = 'channel' | 'phase' | 'receiver' | 'category' | 'ownership_type';

/**
 * A single shelf (swimlane) containing grouped templates
 */
export interface ShelfGroup {
  id: string;                           // Unique identifier for the shelf
  label: string;                        // Display label (e.g., "PDF", "E-post")
  groupValue: string;                   // The actual value being grouped
  templates: TemplateWithMetadata[];
  count: number;                        // Total templates in this group
  isCollapsed: boolean;                 // UI state
}

/**
 * Grouped templates organized by shelf
 */
export interface GroupedTemplates {
  groupBy: ShelfGroupBy;
  shelves: ShelfGroup[];
  totalTemplates: number;
}

/**
 * Filter state for template library
 */
export interface TemplateFilterState {
  search: string;
  channel: TemplateChannel | null;
  phases: TransactionPhase[];
  receiver: Receiver | null;
  ownership_types: OwnershipType[];
  status: 'draft' | 'published' | 'archived' | null;
}

/**
 * Shelf row display configuration
 */
export interface ShelfDisplayConfig {
  cardWidth: number;                    // Card width in px (default: 160)
  cardHeight: number;                   // Card height in px (default: 200)
  gap: number;                          // Gap between cards
  showScrollArrows: boolean;
  dimNonMatching: boolean;              // Dim non-matching cards on filter
  hideEmptyShelves: boolean;
}
```

### File: `frontend/src/types/v2/index.ts`

```typescript
/**
 * V2 Types - Barrel Export
 */

export * from './merge-fields';
export * from './code-patterns';
export * from './layout-partials';
export * from './template-metadata';
export * from './shelf-library';
```

---

## T2: COMPONENT HIERARCHY

### Complete Component Tree

```
app/
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ page.tsx                    # ShelfLibrary page
â”‚   â””â”€â”€ [id]/
â”‚       â””â”€â”€ page.tsx                # DocumentViewer page
â”œâ”€â”€ flettekoder/
â”‚   â””â”€â”€ page.tsx                    # MergeField Library page
â”œâ”€â”€ patterns/
â”‚   â””â”€â”€ page.tsx                    # Code Pattern Library page
â””â”€â”€ layouts/
    â””â”€â”€ page.tsx                    # Header/Footer Management page

components/
â”œâ”€â”€ shelf/                          # Shelf Library Components
â”‚   â”œâ”€â”€ ShelfLibrary.tsx            # Main container
â”‚   â”œâ”€â”€ ShelfRow.tsx                # Single shelf/swimlane
â”‚   â”œâ”€â”€ ShelfHeader.tsx             # Title, count, collapse toggle
â”‚   â”œâ”€â”€ HorizontalScroll.tsx        # Scrollable card container
â”‚   â”œâ”€â”€ ScrollArrows.tsx            # Left/right navigation
â”‚   â”œâ”€â”€ TemplateCard.tsx            # Individual template card
â”‚   â””â”€â”€ GroupBySelector.tsx         # Group-by dropdown
â”‚
â”œâ”€â”€ viewer/                         # Document Viewer Components
â”‚   â”œâ”€â”€ DocumentViewer.tsx          # Main viewer container
â”‚   â”œâ”€â”€ PreviewModeSelector.tsx     # A4/Desktop/Mobile/SMS tabs
â”‚   â”œâ”€â”€ FrameContainer.tsx          # Frame wrapper with device chrome
â”‚   â”œâ”€â”€ A4Frame.tsx                 # PDF/A4 preview (210mm x 297mm)
â”‚   â”œâ”€â”€ DesktopEmailFrame.tsx       # Desktop email (960px)
â”‚   â”œâ”€â”€ MobileEmailFrame.tsx        # Mobile email (340px, iPhone bezel)
â”‚   â”œâ”€â”€ SMSFrame.tsx                # SMS/iMessage bubble (340px)
â”‚   â””â”€â”€ ElementInspector.tsx        # Click-to-inspect code panel
â”‚
â”œâ”€â”€ flettekoder/                    # Merge Field Components
â”‚   â”œâ”€â”€ FlettekodeLibrary.tsx       # Main page container
â”‚   â”œâ”€â”€ CategorySidebar.tsx         # Category filter sidebar
â”‚   â”œâ”€â”€ MergeFieldSearch.tsx        # Search with autocomplete
â”‚   â”œâ”€â”€ MergeFieldGrid.tsx          # Grid of merge field cards
â”‚   â””â”€â”€ MergeFieldCard.tsx          # Individual merge field card
â”‚
â”œâ”€â”€ patterns/                       # Code Pattern Components
â”‚   â”œâ”€â”€ PatternLibrary.tsx          # Main page container
â”‚   â”œâ”€â”€ PatternGrid.tsx             # Grid of pattern cards
â”‚   â”œâ”€â”€ PatternCard.tsx             # Pattern thumbnail card
â”‚   â””â”€â”€ PatternDetail.tsx           # Detail view with Monaco
â”‚
â”œâ”€â”€ layouts/                        # Layout Partial Components
â”‚   â”œâ”€â”€ LayoutManager.tsx           # Main page container
â”‚   â”œâ”€â”€ PartialList.tsx             # List grouped by type
â”‚   â”œâ”€â”€ PartialPreview.tsx          # Inline HTML preview
â”‚   â””â”€â”€ PartialEditor.tsx           # Monaco editor for editing
â”‚
â””â”€â”€ ui/                             # Shared UI Components (Shadcn)
    â”œâ”€â”€ glass-card.tsx              # Glass morphism card
    â”œâ”€â”€ glass-input.tsx             # Glass morphism input
    â””â”€â”€ glass-select.tsx            # Glass morphism select
```

---

## T3: COMPONENT PROPS

### Shelf Library Components

```typescript
// ============================
// ShelfLibrary.tsx
// ============================
interface ShelfLibraryProps {
  /** Initial grouping mode */
  defaultGroupBy?: ShelfGroupBy;
  /** Initial filter state */
  initialFilters?: Partial<TemplateFilterState>;
  /** Called when template card is clicked */
  onTemplateSelect?: (template: TemplateWithMetadata) => void;
  /** Called when template settings icon is clicked */
  onTemplateSettings?: (template: TemplateWithMetadata) => void;
}

// ============================
// ShelfRow.tsx
// ============================
interface ShelfRowProps {
  /** The shelf group data */
  shelf: ShelfGroup;
  /** Whether to dim non-matching cards */
  dimNonMatching?: boolean;
  /** IDs of templates that match current filter */
  matchingIds?: Set<string>;
  /** Called when template card is clicked */
  onTemplateClick: (template: TemplateWithMetadata) => void;
  /** Called when collapse/expand is toggled */
  onToggleCollapse: (shelfId: string) => void;
}

// ============================
// ShelfHeader.tsx
// ============================
interface ShelfHeaderProps {
  /** Shelf title */
  title: string;
  /** Template count */
  count: number;
  /** Whether shelf is collapsed */
  isCollapsed: boolean;
  /** Called when collapse is toggled */
  onToggle: () => void;
}

// ============================
// HorizontalScroll.tsx
// ============================
interface HorizontalScrollProps {
  /** Child elements (TemplateCards) */
  children: React.ReactNode;
  /** Gap between items in px */
  gap?: number;
  /** Whether to show scroll arrows */
  showArrows?: boolean;
}

// ============================
// ScrollArrows.tsx
// ============================
interface ScrollArrowsProps {
  /** Scroll container ref */
  containerRef: React.RefObject<HTMLDivElement>;
  /** Whether can scroll left */
  canScrollLeft: boolean;
  /** Whether can scroll right */
  canScrollRight: boolean;
  /** Scroll amount per click */
  scrollAmount?: number;
}

// ============================
// TemplateCard.tsx
// ============================
interface TemplateCardProps {
  /** Template data */
  template: TemplateWithMetadata;
  /** Card dimensions */
  width?: number;
  height?: number;
  /** Whether card is dimmed (filter non-match) */
  isDimmed?: boolean;
  /** Whether card is selected */
  isSelected?: boolean;
  /** Called when card is clicked */
  onClick?: () => void;
  /** Called when settings action is clicked */
  onSettingsClick?: () => void;
  /** Called when code view action is clicked */
  onCodeViewClick?: () => void;
}

// ============================
// GroupBySelector.tsx
// ============================
interface GroupBySelectorProps {
  /** Current grouping mode */
  value: ShelfGroupBy;
  /** Called when grouping changes */
  onChange: (groupBy: ShelfGroupBy) => void;
}
```

### Document Viewer Components

```typescript
// ============================
// DocumentViewer.tsx
// ============================
interface DocumentViewerProps {
  /** Template ID to display */
  templateId: string;
  /** Initial preview mode */
  defaultMode?: PreviewMode;
  /** Whether inspector is enabled */
  enableInspector?: boolean;
}

type PreviewMode = 'a4' | 'desktop_email' | 'mobile_email' | 'sms';

// ============================
// PreviewModeSelector.tsx
// ============================
interface PreviewModeSelectorProps {
  /** Current mode */
  value: PreviewMode;
  /** Called when mode changes */
  onChange: (mode: PreviewMode) => void;
  /** Modes to hide (based on template channel) */
  hiddenModes?: PreviewMode[];
}

// ============================
// FrameContainer.tsx
// ============================
interface FrameContainerProps {
  /** Current preview mode */
  mode: PreviewMode;
  /** Template content (HTML) */
  content: string;
  /** Template margins (for A4 mode) */
  margins?: {
    top: number;
    bottom: number;
    left: number;
    right: number;
  };
  /** Header partial HTML (for A4) */
  headerHtml?: string;
  /** Footer partial HTML (for A4) */
  footerHtml?: string;
  /** Called when element is clicked for inspection */
  onElementClick?: (element: HTMLElement, path: string[]) => void;
}

// ============================
// A4Frame.tsx
// ============================
interface A4FrameProps {
  /** HTML content */
  content: string;
  /** Show margin indicators */
  showMargins?: boolean;
  /** Margin values in cm */
  margins: {
    top: number;
    bottom: number;
    left: number;
    right: number;
  };
  /** Header HTML */
  headerHtml?: string;
  /** Footer HTML */
  footerHtml?: string;
  /** Element click handler */
  onElementClick?: (element: HTMLElement, path: string[]) => void;
}

// ============================
// DesktopEmailFrame.tsx
// ============================
interface DesktopEmailFrameProps {
  /** HTML content */
  content: string;
  /** Email subject */
  subject?: string;
  /** Element click handler */
  onElementClick?: (element: HTMLElement, path: string[]) => void;
}

// ============================
// MobileEmailFrame.tsx
// ============================
interface MobileEmailFrameProps {
  /** HTML content */
  content: string;
  /** Email subject */
  subject?: string;
  /** Element click handler */
  onElementClick?: (element: HTMLElement, path: string[]) => void;
}

// ============================
// SMSFrame.tsx
// ============================
interface SMSFrameProps {
  /** Text content (HTML stripped) */
  content: string;
  /** Sender name */
  sender?: string;
}

// ============================
// ElementInspector.tsx
// ============================
interface ElementInspectorProps {
  /** Currently selected element */
  element: HTMLElement | null;
  /** Element path breadcrumb */
  elementPath: string[];
  /** Whether panel is open */
  isOpen: boolean;
  /** Called when panel is closed */
  onClose: () => void;
  /** Called when copy button is clicked */
  onCopy?: () => void;
}
```

### Flettekode Library Components

```typescript
// ============================
// FlettekodeLibrary.tsx
// ============================
interface FlettekodeLibraryProps {
  /** Initial category filter */
  initialCategory?: string;
  /** Called when merge field is copied */
  onCopy?: (field: MergeField) => void;
}

// ============================
// CategorySidebar.tsx
// ============================
interface CategorySidebarProps {
  /** List of categories with counts */
  categories: MergeFieldCategoryCount[];
  /** Currently selected category */
  selectedCategory: string | null;
  /** Called when category is selected */
  onSelect: (category: string | null) => void;
  /** Whether loading */
  isLoading?: boolean;
}

// ============================
// MergeFieldSearch.tsx
// ============================
interface MergeFieldSearchProps {
  /** Current search value */
  value: string;
  /** Called when search changes */
  onChange: (value: string) => void;
  /** Autocomplete suggestions */
  suggestions?: MergeField[];
  /** Called when suggestion is selected */
  onSuggestionSelect?: (field: MergeField) => void;
  /** Placeholder text */
  placeholder?: string;
}

// ============================
// MergeFieldGrid.tsx
// ============================
interface MergeFieldGridProps {
  /** Merge fields to display */
  fields: MergeField[];
  /** Whether loading */
  isLoading?: boolean;
  /** Called when field card is clicked */
  onFieldClick?: (field: MergeField) => void;
}

// ============================
// MergeFieldCard.tsx
// ============================
interface MergeFieldCardProps {
  /** Merge field data */
  field: MergeField;
  /** Called when card is clicked */
  onClick?: () => void;
  /** Called when copy button is clicked */
  onCopy?: () => void;
  /** Show usage count badge */
  showUsageCount?: boolean;
}
```

### Code Pattern Components

```typescript
// ============================
// PatternLibrary.tsx
// ============================
interface PatternLibraryProps {
  /** Initial category filter */
  initialCategory?: string;
}

// ============================
// PatternGrid.tsx
// ============================
interface PatternGridProps {
  /** Patterns to display */
  patterns: CodePattern[];
  /** Whether loading */
  isLoading?: boolean;
  /** Called when pattern is clicked */
  onPatternClick?: (pattern: CodePattern) => void;
}

// ============================
// PatternCard.tsx
// ============================
interface PatternCardProps {
  /** Pattern data */
  pattern: CodePattern;
  /** Called when clicked */
  onClick?: () => void;
  /** Called when copy button is clicked */
  onCopy?: () => void;
}

// ============================
// PatternDetail.tsx
// ============================
interface PatternDetailProps {
  /** Pattern to display */
  pattern: CodePattern;
  /** Whether in edit mode */
  isEditing?: boolean;
  /** Called when save is clicked */
  onSave?: (updates: CodePatternUpdate) => void;
  /** Called when close is clicked */
  onClose?: () => void;
}
```

### Layout Partial Components

```typescript
// ============================
// LayoutManager.tsx
// ============================
interface LayoutManagerProps {
  /** Initial type filter */
  initialType?: LayoutPartialType;
}

// ============================
// PartialList.tsx
// ============================
interface PartialListProps {
  /** Partials grouped by type */
  partials: LayoutPartial[];
  /** Type filter */
  typeFilter?: LayoutPartialType;
  /** Called when partial is selected */
  onSelect?: (partial: LayoutPartial) => void;
  /** Called when set-default is clicked */
  onSetDefault?: (partial: LayoutPartial) => void;
}

// ============================
// PartialPreview.tsx
// ============================
interface PartialPreviewProps {
  /** HTML content to preview */
  htmlContent: string;
  /** Preview width */
  width?: number;
  /** Preview height */
  height?: number;
}

// ============================
// PartialEditor.tsx
// ============================
interface PartialEditorProps {
  /** Partial being edited */
  partial: LayoutPartial | null;
  /** Called when save is clicked */
  onSave: (updates: LayoutPartialUpdate) => void;
  /** Called when cancel is clicked */
  onCancel: () => void;
}
```

---

## T4: CUSTOM HOOKS

### File: `frontend/src/hooks/v2/useGroupedTemplates.ts`

```typescript
/**
 * Hook for fetching and grouping templates into shelves.
 * 
 * @param groupBy - How to group templates (channel, phase, receiver, etc.)
 * @param filters - Optional filter state
 * @returns Grouped templates, loading state, and utility functions
 * 
 * @example
 * ```tsx
 * const { shelves, isLoading, toggleCollapse, refetch } = useGroupedTemplates('channel');
 * ```
 */
export function useGroupedTemplates(
  groupBy: ShelfGroupBy,
  filters?: Partial<TemplateFilterState>
): {
  /** Grouped templates organized into shelves */
  shelves: ShelfGroup[];
  /** Total template count */
  totalTemplates: number;
  /** Loading state */
  isLoading: boolean;
  /** Error message if any */
  error: string | null;
  /** Toggle shelf collapsed state */
  toggleCollapse: (shelfId: string) => void;
  /** Collapse all shelves */
  collapseAll: () => void;
  /** Expand all shelves */
  expandAll: () => void;
  /** Refetch templates */
  refetch: () => void;
  /** Set of template IDs matching current filters */
  matchingIds: Set<string>;
};
```

### File: `frontend/src/hooks/v2/useMergeFields.ts`

```typescript
/**
 * Hook for fetching merge fields from the Flettekode registry.
 * 
 * @param options - Filter and pagination options
 * @returns Merge fields, pagination info, and utility functions
 * 
 * @example
 * ```tsx
 * const { fields, categories, isLoading } = useMergeFields({ category: 'Selger' });
 * ```
 */
export function useMergeFields(options?: {
  category?: string;
  search?: string;
  dataType?: MergeFieldDataType;
  isIterable?: boolean;
  page?: number;
  perPage?: number;
}): {
  /** List of merge fields */
  fields: MergeField[];
  /** Total field count */
  total: number;
  /** Current page */
  page: number;
  /** Total pages */
  totalPages: number;
  /** Loading state */
  isLoading: boolean;
  /** Error message */
  error: string | null;
  /** Refetch data */
  refetch: () => void;
  /** Go to page */
  goToPage: (page: number) => void;
};

/**
 * Hook for fetching merge field categories.
 * 
 * @returns Categories with counts and loading state
 * 
 * @example
 * ```tsx
 * const { categories, isLoading } = useMergeFieldCategories();
 * ```
 */
export function useMergeFieldCategories(): {
  /** Categories with counts */
  categories: MergeFieldCategoryCount[];
  /** Loading state */
  isLoading: boolean;
  /** Error message */
  error: string | null;
  /** Refetch */
  refetch: () => void;
};

/**
 * Hook for merge field autocomplete suggestions.
 * 
 * @param query - Search query (triggers after 2+ chars)
 * @param limit - Max suggestions (default: 10)
 * @returns Suggestions and loading state
 * 
 * @example
 * ```tsx
 * const { suggestions, isLoading } = useMergeFieldAutocomplete(searchValue);
 * ```
 */
export function useMergeFieldAutocomplete(
  query: string,
  limit?: number
): {
  /** Autocomplete suggestions */
  suggestions: MergeField[];
  /** Loading state */
  isLoading: boolean;
};
```

### File: `frontend/src/hooks/v2/useCodePatterns.ts`

```typescript
/**
 * Hook for fetching code patterns from the pattern library.
 * 
 * @param options - Filter and pagination options
 * @returns Code patterns and utility functions
 * 
 * @example
 * ```tsx
 * const { patterns, isLoading } = useCodePatterns({ category: 'Tabeller' });
 * ```
 */
export function useCodePatterns(options?: {
  category?: string;
  search?: string;
  page?: number;
  perPage?: number;
}): {
  /** List of code patterns */
  patterns: CodePattern[];
  /** Total count */
  total: number;
  /** Current page */
  page: number;
  /** Total pages */
  totalPages: number;
  /** Loading state */
  isLoading: boolean;
  /** Error message */
  error: string | null;
  /** Refetch */
  refetch: () => void;
};

/**
 * Hook for fetching code pattern categories.
 * 
 * @returns Category names and loading state
 */
export function useCodePatternCategories(): {
  /** Category names */
  categories: string[];
  /** Loading state */
  isLoading: boolean;
  /** Error */
  error: string | null;
};
```

### File: `frontend/src/hooks/v2/useLayoutPartials.ts`

```typescript
/**
 * Hook for fetching layout partials (headers/footers).
 * 
 * @param type - Filter by type ('header' | 'footer')
 * @param context - Filter by context ('pdf' | 'email' | 'all')
 * @returns Layout partials and utility functions
 * 
 * @example
 * ```tsx
 * const { partials, isLoading } = useLayoutPartials('header', 'pdf');
 * ```
 */
export function useLayoutPartials(
  type?: LayoutPartialType,
  context?: LayoutPartialContext
): {
  /** List of layout partials */
  partials: LayoutPartial[];
  /** Total count */
  total: number;
  /** Loading state */
  isLoading: boolean;
  /** Error message */
  error: string | null;
  /** Refetch */
  refetch: () => void;
  /** Set a partial as default */
  setDefault: (partialId: string) => Promise<void>;
};

/**
 * Hook for fetching the default partial for a type/context.
 * 
 * @param type - Partial type
 * @param context - Usage context (default: 'all')
 * @returns Default partial or null
 */
export function useDefaultPartial(
  type: LayoutPartialType,
  context?: LayoutPartialContext
): {
  /** Default partial (or null) */
  partial: LayoutPartial | null;
  /** Loading state */
  isLoading: boolean;
};
```

### File: `frontend/src/hooks/v2/useElementInspector.ts`

```typescript
/**
 * Hook for managing element inspector state in the document viewer.
 * 
 * @returns Inspector state and control functions
 * 
 * @example
 * ```tsx
 * const { selectedElement, selectElement, clearSelection, isOpen } = useElementInspector();
 * ```
 */
export function useElementInspector(): {
  /** Currently selected element */
  selectedElement: HTMLElement | null;
  /** Element path (breadcrumb) */
  elementPath: string[];
  /** Whether inspector panel is open */
  isOpen: boolean;
  /** Select an element for inspection */
  selectElement: (element: HTMLElement) => void;
  /** Clear current selection */
  clearSelection: () => void;
  /** Get HTML code of selected element */
  getElementCode: () => string;
  /** Copy element code to clipboard */
  copyElementCode: () => Promise<void>;
  /** Get merge fields within selected element */
  getMergeFieldsInElement: () => string[];
};
```

### File: `frontend/src/hooks/v2/useTemplateAnalysis.ts`

```typescript
/**
 * Hook for analyzing a template's merge fields and patterns.
 * 
 * @param templateId - Template UUID to analyze
 * @returns Analysis result and loading state
 * 
 * @example
 * ```tsx
 * const { analysis, isLoading } = useTemplateAnalysis(templateId);
 * ```
 */
export function useTemplateAnalysis(
  templateId: string | null
): {
  /** Analysis result */
  analysis: TemplateAnalysisResult | null;
  /** Loading state */
  isLoading: boolean;
  /** Error message */
  error: string | null;
  /** Trigger re-analysis */
  reanalyze: () => void;
};
```

---

## T5: PAGE LAYOUTS

### `/templates` - Shelf Library Page

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â†] Templates                                    [Group by: Channel â–¾] [ğŸ”] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚ â”Œâ”€ PDF (12) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ [âˆ’] â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚  â†  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”  â†’            â”‚â”‚
â”‚ â”‚     â”‚ ğŸ“„   â”‚ â”‚ ğŸ“„   â”‚ â”‚ ğŸ“„   â”‚ â”‚ ğŸ“„   â”‚ â”‚ ğŸ“„   â”‚ â”‚ ğŸ“„   â”‚               â”‚â”‚
â”‚ â”‚     â”‚      â”‚ â”‚      â”‚ â”‚      â”‚ â”‚      â”‚ â”‚      â”‚ â”‚      â”‚               â”‚â”‚
â”‚ â”‚     â”‚ Thumbâ”‚ â”‚ Thumbâ”‚ â”‚ Thumbâ”‚ â”‚ Thumbâ”‚ â”‚ Thumbâ”‚ â”‚ Thumbâ”‚               â”‚â”‚
â”‚ â”‚     â”‚      â”‚ â”‚      â”‚ â”‚      â”‚ â”‚      â”‚ â”‚      â”‚ â”‚      â”‚               â”‚â”‚
â”‚ â”‚     â”œâ”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”¤               â”‚â”‚
â”‚ â”‚     â”‚Title â”‚ â”‚Title â”‚ â”‚Title â”‚ â”‚Title â”‚ â”‚Title â”‚ â”‚Title â”‚               â”‚â”‚
â”‚ â”‚     â”‚[PDF] â”‚ â”‚[PDF] â”‚ â”‚[PDF] â”‚ â”‚[PDF] â”‚ â”‚[PDF] â”‚ â”‚[PDF] â”‚               â”‚â”‚
â”‚ â”‚     â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜               â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€ E-post (8) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ [âˆ’] â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚  â†  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”  â†’                     â”‚â”‚
â”‚ â”‚     â”‚ ğŸ“§   â”‚ â”‚ ğŸ“§   â”‚ â”‚ ğŸ“§   â”‚ â”‚ ğŸ“§   â”‚ â”‚ ğŸ“§   â”‚                        â”‚â”‚
â”‚ â”‚     â”‚ Thumbâ”‚ â”‚ Thumbâ”‚ â”‚ Thumbâ”‚ â”‚ Thumbâ”‚ â”‚ Thumbâ”‚                        â”‚â”‚
â”‚ â”‚     â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜                        â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€ SMS (3) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ [âˆ’] â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚     â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”                                          â”‚â”‚
â”‚ â”‚     â”‚ ğŸ’¬   â”‚ â”‚ ğŸ’¬   â”‚ â”‚ ğŸ’¬   â”‚                                          â”‚â”‚
â”‚ â”‚     â”‚ Thumbâ”‚ â”‚ Thumbâ”‚ â”‚ Thumbâ”‚                                          â”‚â”‚
â”‚ â”‚     â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜                                          â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### `/templates/[id]` - Document Viewer Page

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â†] Aksept av oppdrag                            [âš™ Settings] [ğŸ“¥ Download] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€ Preview Mode â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚  [ A4/PDF ]  [ Desktop E-post ]  [ Mobil E-post ]  [ SMS ]               â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚                                                                           â”‚â”‚
â”‚ â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚â”‚
â”‚ â”‚                    â”‚                         â”‚                            â”‚â”‚
â”‚ â”‚                    â”‚      [Header HTML]      â”‚                            â”‚â”‚
â”‚ â”‚                    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                            â”‚â”‚
â”‚ â”‚                    â”‚                         â”‚                            â”‚â”‚
â”‚ â”‚                    â”‚   Template Content      â”‚                            â”‚â”‚
â”‚ â”‚                    â”‚                         â”‚                            â”‚â”‚
â”‚ â”‚                    â”‚   [[selger.navn]]       â”‚ â† clickable                â”‚â”‚
â”‚ â”‚                    â”‚                         â”‚                            â”‚â”‚
â”‚ â”‚                    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                            â”‚â”‚
â”‚ â”‚                    â”‚      [Footer HTML]      â”‚                            â”‚â”‚
â”‚ â”‚                    â”‚                         â”‚                            â”‚â”‚
â”‚ â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚â”‚
â”‚ â”‚                                                                           â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€ Element Inspector â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ [Ã—] â”€â”€â”€â”€â”â”‚
â”‚ â”‚  ğŸ“ html > body > div.content > p.seller-info                            â”‚â”‚
â”‚ â”‚                                                                           â”‚â”‚
â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚
â”‚ â”‚  â”‚ <p class="seller-info">                                           â”‚   â”‚â”‚
â”‚ â”‚  â”‚   Selger: [[selger.navnutenfullmektigogkontaktperson]]            â”‚   â”‚â”‚
â”‚ â”‚  â”‚ </p>                                                              â”‚   â”‚â”‚
â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚
â”‚ â”‚                                                        [ğŸ“‹ Copy Code]    â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### `/flettekoder` - Merge Field Library Page

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â†] Flettekoder                                                    [+ Ny]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    â”‚ â”Œâ”€ Search â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”Œâ”€ Categories â”€â”€â”€â” â”‚ â”‚ ğŸ” SÃ¸k flettekoder...                               â”‚â”‚
â”‚ â”‚                â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚ â”‚ â—‹ Alle (156)   â”‚ â”‚                                                        â”‚
â”‚ â”‚ â— Selger (23)  â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ â—‹ KjÃ¸per (18)  â”‚ â”‚ â”‚                                                      â”‚â”‚
â”‚ â”‚ â—‹ Eiendom (34) â”‚ â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚â”‚
â”‚ â”‚ â—‹ Megler (21)  â”‚ â”‚ â”‚  â”‚ Selger Navnâ”‚  â”‚ Adresse    â”‚  â”‚ Postnr     â”‚     â”‚â”‚
â”‚ â”‚ â—‹ Ã˜konomi (15) â”‚ â”‚ â”‚  â”‚ [[selger.  â”‚  â”‚ [[selger.  â”‚  â”‚ [[selger.  â”‚     â”‚â”‚
â”‚ â”‚ â—‹ Oppdrag (28) â”‚ â”‚ â”‚  â”‚ navn]]     â”‚  â”‚ adresse]]  â”‚  â”‚ postnr]]   â”‚     â”‚â”‚
â”‚ â”‚ â—‹ Kontor (17)  â”‚ â”‚ â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚     â”‚â”‚
â”‚ â”‚                â”‚ â”‚ â”‚  â”‚ "Ola Nord.."â”‚  â”‚ "Storgata 1"â”‚  â”‚ "0123"     â”‚     â”‚â”‚
â”‚ â”‚                â”‚ â”‚ â”‚  â”‚    [ğŸ“‹] 45 â”‚  â”‚    [ğŸ“‹] 32 â”‚  â”‚    [ğŸ“‹] 28 â”‚     â”‚â”‚
â”‚ â”‚                â”‚ â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚â”‚
â”‚ â”‚                â”‚ â”‚ â”‚                                                      â”‚â”‚
â”‚ â”‚                â”‚ â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚â”‚
â”‚ â”‚                â”‚ â”‚ â”‚  â”‚ Poststed   â”‚  â”‚ E-post     â”‚  â”‚ Telefon    â”‚     â”‚â”‚
â”‚ â”‚                â”‚ â”‚ â”‚  â”‚ [[selger.  â”‚  â”‚ [[selger.  â”‚  â”‚ [[selger.  â”‚     â”‚â”‚
â”‚ â”‚                â”‚ â”‚ â”‚  â”‚ poststed]] â”‚  â”‚ email]]    â”‚  â”‚ tlf]]      â”‚     â”‚â”‚
â”‚ â”‚                â”‚ â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚â”‚
â”‚ â”‚                â”‚ â”‚ â”‚                                                      â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### `/patterns` - Code Pattern Library Page

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â†] KodemÃ¸nstre                               [Kategori: Alle â–¾]  [+ Ny]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚ â”Œâ”€ Tabeller â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚                                                                           â”‚â”‚
â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚â”‚
â”‚ â”‚  â”‚ â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â” â”‚        â”‚â”‚
â”‚ â”‚  â”‚ â”‚    â”‚    â”‚    â”‚ â”‚  â”‚ â”‚    â”‚    â”‚    â”‚ â”‚  â”‚ â”‚    â”‚    â”‚    â”‚ â”‚        â”‚â”‚
â”‚ â”‚  â”‚ â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤ â”‚  â”‚ â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤ â”‚  â”‚ â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤ â”‚        â”‚â”‚
â”‚ â”‚  â”‚ â”‚    â”‚    â”‚    â”‚ â”‚  â”‚ â”‚    â”‚    â”‚    â”‚ â”‚  â”‚ â”‚    â”‚    â”‚    â”‚ â”‚        â”‚â”‚
â”‚ â”‚  â”‚ â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜ â”‚        â”‚â”‚
â”‚ â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚        â”‚â”‚
â”‚ â”‚  â”‚ Selger-tabell    â”‚  â”‚ KjÃ¸per-tabell    â”‚  â”‚ Budrunde-tabell  â”‚        â”‚â”‚
â”‚ â”‚  â”‚ with contact     â”‚  â”‚ summary          â”‚  â”‚ with history     â”‚        â”‚â”‚
â”‚ â”‚  â”‚       [ğŸ“‹] 23    â”‚  â”‚       [ğŸ“‹] 18    â”‚  â”‚       [ğŸ“‹] 12    â”‚        â”‚â”‚
â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€ Betingelser â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚                                                                           â”‚â”‚
â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚â”‚
â”‚ â”‚  â”‚ vitec-if block   â”‚  â”‚ vitec-if block   â”‚                              â”‚â”‚
â”‚ â”‚  â”‚ [highlighted]    â”‚  â”‚ [highlighted]    â”‚                              â”‚â”‚
â”‚ â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                              â”‚â”‚
â”‚ â”‚  â”‚ Aksje-betingelse â”‚  â”‚ NÃ¦ring-betingelseâ”‚                              â”‚â”‚
â”‚ â”‚  â”‚       [ğŸ“‹] 8     â”‚  â”‚       [ğŸ“‹] 5     â”‚                              â”‚â”‚
â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### `/layouts` - Header/Footer Management Page

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â†] Topp- og bunntekster                                          [+ Ny]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚ â”Œâ”€ Topptekster (Headers) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚                                                                           â”‚â”‚
â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚â”‚
â”‚ â”‚  â”‚ â˜… Standard topptekst                                    [PDF] [âœ“] â”‚  â”‚â”‚
â”‚ â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚â”‚
â”‚ â”‚  â”‚    â”‚ [Preview: Logo + company name header]                   â”‚    â”‚  â”‚â”‚
â”‚ â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚â”‚
â”‚ â”‚  â”‚                                        [Edit] [Set Default]        â”‚  â”‚â”‚
â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â”‚
â”‚ â”‚                                                                           â”‚â”‚
â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚â”‚
â”‚ â”‚  â”‚   Minimalist topptekst                                    [PDF]    â”‚  â”‚â”‚
â”‚ â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚â”‚
â”‚ â”‚  â”‚    â”‚ [Preview: Simple logo only]                             â”‚    â”‚  â”‚â”‚
â”‚ â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚â”‚
â”‚ â”‚  â”‚                                        [Edit] [Set Default]        â”‚  â”‚â”‚
â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€ Bunntekster (Footers) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚                                                                           â”‚â”‚
â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚â”‚
â”‚ â”‚  â”‚ â˜… Standard bunntekst                                    [PDF] [âœ“] â”‚  â”‚â”‚
â”‚ â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚â”‚
â”‚ â”‚  â”‚    â”‚ [Preview: Contact info + page numbers]                  â”‚    â”‚  â”‚â”‚
â”‚ â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚â”‚
â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## T6: DEPENDENCIES

### NPM Packages to Install

```bash
# Phase 2.1 - Core (Install now)
npm install @tanstack/react-query      # Data fetching and caching (already using useEffect patterns, upgrade to react-query)
npm install framer-motion              # Animations for shelf transitions
npm install zustand                    # Lightweight state management for inspector, filters
npm install usehooks-ts                # Utility hooks (useLocalStorage, useMediaQuery, useCopyToClipboard)

# Shadcn Components (add via CLI)
npx shadcn@latest add scroll-area      # For horizontal scroll in shelves
npx shadcn@latest add tabs             # For preview mode selector
npx shadcn@latest add collapsible      # For shelf collapse/expand
npx shadcn@latest add command          # For merge field search with autocomplete
npx shadcn@latest add popover          # For element inspector popover
npx shadcn@latest add resizable        # For inspector panel
npx shadcn@latest add separator        # For list dividers
npx shadcn@latest add avatar           # For device frame headers

# Phase 3 - Visual Builder (Install later)
npm install @tiptap/react @tiptap/pm @tiptap/starter-kit    # Rich text editor
npm install @tiptap/extension-placeholder                    # Placeholder text
npm install @monaco-editor/react                             # Code editor for pattern detail
```

### Shadcn Components Already in Project

Based on `frontend/src/components/ui/`, these are already available:
- `button.tsx`
- `badge.tsx`
- `sheet.tsx`
- `dialog.tsx`
- `dropdown-menu.tsx`
- `input.tsx`
- `select.tsx`
- `card.tsx`
- `skeleton.tsx`
- `toast.tsx` / `sonner.tsx`
- `form.tsx`

### Shadcn Components Needed (Add via CLI)

```bash
# Required for V2
npx shadcn@latest add scroll-area
npx shadcn@latest add tabs
npx shadcn@latest add collapsible
npx shadcn@latest add command
npx shadcn@latest add popover
npx shadcn@latest add resizable
npx shadcn@latest add separator
npx shadcn@latest add avatar
npx shadcn@latest add aspect-ratio      # For thumbnail cards
npx shadcn@latest add tooltip           # For merge field hints
```

### Glass UI CSS Tokens

Add to `frontend/src/app/globals.css`:

```css
:root {
  /* Glass UI Design Tokens */
  --glass-bg: rgba(255, 255, 255, 0.7);
  --glass-blur: 12px;
  --glass-border: rgba(255, 255, 255, 0.3);
  --surface: #FAFAF8;
  --surface-elevated: rgba(255, 255, 255, 0.9);
  --accent-gold: #BCAB8A;
  --accent-navy: #272630;
}

.glass-card {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  border: 1px solid var(--glass-border);
  border-radius: 12px;
}

.glass-input {
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.4);
}
```

---

## FILE STRUCTURE ADDITIONS

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx                    # REFACTOR: Shelf library
â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx                # NEW: Document viewer
â”‚   â”‚   â”œâ”€â”€ flettekoder/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx                    # NEW: Merge field library
â”‚   â”‚   â”œâ”€â”€ patterns/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx                    # NEW: Code pattern library
â”‚   â”‚   â””â”€â”€ layouts/
â”‚   â”‚       â””â”€â”€ page.tsx                    # NEW: Header/footer management
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ shelf/                          # NEW: Shelf components
â”‚   â”‚   â”‚   â”œâ”€â”€ ShelfLibrary.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ShelfRow.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ShelfHeader.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ HorizontalScroll.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ScrollArrows.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TemplateCard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ GroupBySelector.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ viewer/                         # NEW: Viewer components
â”‚   â”‚   â”‚   â”œâ”€â”€ DocumentViewer.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PreviewModeSelector.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ FrameContainer.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ A4Frame.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ DesktopEmailFrame.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MobileEmailFrame.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ SMSFrame.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ElementInspector.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ flettekoder/                    # NEW: Merge field components
â”‚   â”‚   â”‚   â”œâ”€â”€ FlettekodeLibrary.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CategorySidebar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MergeFieldSearch.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MergeFieldGrid.tsx
â”‚   â”‚   â”‚   â””â”€â”€ MergeFieldCard.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ patterns/                       # NEW: Pattern components
â”‚   â”‚   â”‚   â”œâ”€â”€ PatternLibrary.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PatternGrid.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PatternCard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ PatternDetail.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layouts/                        # NEW: Layout partial components
â”‚   â”‚   â”‚   â”œâ”€â”€ LayoutManager.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PartialList.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PartialPreview.tsx
â”‚   â”‚   â”‚   â””â”€â”€ PartialEditor.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ui/
â”‚   â”‚       â”œâ”€â”€ glass-card.tsx              # NEW: Glass UI
â”‚   â”‚       â”œâ”€â”€ glass-input.tsx             # NEW: Glass UI
â”‚   â”‚       â””â”€â”€ glass-select.tsx            # NEW: Glass UI
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â””â”€â”€ v2/                             # NEW: V2 hooks
â”‚   â”‚       â”œâ”€â”€ useGroupedTemplates.ts
â”‚   â”‚       â”œâ”€â”€ useMergeFields.ts
â”‚   â”‚       â”œâ”€â”€ useCodePatterns.ts
â”‚   â”‚       â”œâ”€â”€ useLayoutPartials.ts
â”‚   â”‚       â”œâ”€â”€ useElementInspector.ts
â”‚   â”‚       â””â”€â”€ useTemplateAnalysis.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ api/                            # NEW: V2 API modules
â”‚   â”‚       â”œâ”€â”€ merge-fields.ts
â”‚   â”‚       â”œâ”€â”€ code-patterns.ts
â”‚   â”‚       â”œâ”€â”€ layout-partials.ts
â”‚   â”‚       â””â”€â”€ template-analysis.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ v2/                             # NEW: V2 types
â”‚   â”‚       â”œâ”€â”€ index.ts
â”‚   â”‚       â”œâ”€â”€ merge-fields.ts
â”‚   â”‚       â”œâ”€â”€ code-patterns.ts
â”‚   â”‚       â”œâ”€â”€ layout-partials.ts
â”‚   â”‚       â”œâ”€â”€ template-metadata.ts
â”‚   â”‚       â””â”€â”€ shelf-library.ts
â”‚   â”‚
â”‚   â””â”€â”€ stores/                             # NEW: Zustand stores
â”‚       â”œâ”€â”€ inspector-store.ts
â”‚       â”œâ”€â”€ filter-store.ts
â”‚       â””â”€â”€ shelf-store.ts
```

---

## HANDOFF TO BUILDER AGENT

### Implementation Order

1. **Types First** - Create all TypeScript interfaces in `types/v2/`
2. **API Layer** - Create API wrapper functions in `lib/api/`
3. **Hooks** - Implement custom hooks in `hooks/v2/`
4. **Install Dependencies** - Run npm commands for packages and Shadcn components
5. **Shelf Components** - Build shelf library components
6. **Viewer Components** - Build document viewer with frames
7. **Flettekode Components** - Build merge field library
8. **Pattern Components** - Build code pattern library
9. **Layout Components** - Build header/footer management
10. **Glass UI** - Add glass morphism components
11. **Pages** - Wire up all page components
12. **Integration Test** - Verify end-to-end flow

### Test Criteria

- [ ] `/templates` renders shelf layout grouped by channel
- [ ] Shelf rows are horizontally scrollable with arrows
- [ ] Shelves can be collapsed/expanded
- [ ] Filter search dims non-matching cards
- [ ] `/templates/[id]` renders all 4 preview modes
- [ ] Click on element opens inspector with HTML code
- [ ] `/flettekoder` shows categories sidebar and grid
- [ ] Merge field search autocomplete works
- [ ] Click-to-copy copies `[[path]]` syntax
- [ ] `/patterns` shows pattern cards with thumbnails
- [ ] Pattern detail shows Monaco editor
- [ ] `/layouts` shows headers/footers grouped
- [ ] Set-default updates default indicator
- [ ] All hooks return proper loading/error states
- [ ] Glass UI components render with blur effect

---

**Next Step:** Invoke **BUILDER** agent to implement the frontend specification.
