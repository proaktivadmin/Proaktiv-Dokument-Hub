---
phase: 02-vitec-sync-review-ui
plan: 03
type: execute
wave: 3
depends_on: ["02-02"]
files_modified:
  - backend/app/services/sync_commit_service.py
  - backend/app/routers/sync.py
autonomous: true
---

<objective>
Build commit endpoint that applies only user-approved changes from the sync session.
</objective>

<tasks>
<task type="auto">
  <name>Task 1: Create commit service</name>
  <files>backend/app/services/sync_commit_service.py</files>
  <action>Create SyncCommitService with commit_session() that applies accepted changes, creates new records, skips rejected.</action>
</task>

<task type="auto">
  <name>Task 2: Add decision update endpoint</name>
  <files>backend/app/routers/sync.py</files>
  <action>Add PATCH /api/sync/sessions/{id}/decisions to update field decisions.</action>
</task>

<task type="auto">
  <name>Task 3: Add commit endpoint</name>
  <files>backend/app/routers/sync.py</files>
  <action>Add POST /api/sync/sessions/{id}/commit that applies approved changes.</action>
</task>
</tasks>

<success_criteria>
- PATCH updates field decisions
- POST commit applies only accepted changes
- New records created for accepted new items
</success_criteria>
