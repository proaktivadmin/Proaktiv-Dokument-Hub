# Plan 05-03: Deploy to Vercel

**Phase:** 5 - Vercel Migration
**Focus:** Deploy frontend to Vercel
**Estimated:** 30 minutes

---

## Objective

Deploy the frontend to Vercel and configure environment variables.

---

## Tasks

### 1. Connect to Vercel (CLI or Dashboard)

**Option A: Vercel CLI**

```bash
# Install Vercel CLI
npm i -g vercel

# Login
vercel login

# Link project (from frontend directory)
cd frontend
vercel link

# Deploy to preview
vercel

# Deploy to production
vercel --prod
```

**Option B: Vercel Dashboard**

1. Go to https://vercel.com/new
2. Import `proaktivadmin/Proaktiv-Dokument-Hub`
3. Set Root Directory: `frontend`
4. Framework Preset: Next.js (auto-detected)

### 2. Configure Environment Variables

In Vercel Dashboard → Project Settings → Environment Variables:

| Variable | Value | Environments |
|----------|-------|--------------|
| `BACKEND_URL` | `https://proaktiv-dokument-hub-production.up.railway.app` | All |
| `NEXT_PUBLIC_API_URL` | `https://proaktiv-dokument-hub-production.up.railway.app` | All |
| `NEXT_PUBLIC_SENTRY_DSN` | (copy from Railway) | All |
| `SENTRY_ORG` | (your org) | All |
| `SENTRY_PROJECT` | (your project) | All |
| `SENTRY_AUTH_TOKEN` | (your token) | All |

### 3. Trigger Deployment

After setting environment variables:
1. Go to Deployments tab
2. Click "Redeploy" on latest deployment
3. Wait for build to complete

### 4. Verify Build

Check build logs for:
- No TypeScript errors
- No ESLint errors
- Successful Next.js build
- No missing environment variables

---

## Verification

```bash
# Check production URL
curl -I https://proaktiv-dokument-hub.vercel.app

# Check API proxy works
curl https://proaktiv-dokument-hub.vercel.app/api/health
```

---

## Expected Output

- Vercel deployment URL: `https://proaktiv-dokument-hub.vercel.app`
- Build status: Success
- All pages accessible

---

## Troubleshooting

### Build fails
- Check for TypeScript errors: `npm run type-check`
- Check for ESLint errors: `npm run lint`
- Verify all dependencies installed

### 404 on pages
- Verify `output` directory is `.next`
- Check for dynamic route issues

### API calls fail
- Verify `vercel.json` rewrites
- Check CORS on backend
- Verify environment variables

---

## Commit Message

No code changes needed - this is a deployment task.

---

## Next Plan

After deployment is working, proceed to `05-04-PLAN.md` (Verification).
